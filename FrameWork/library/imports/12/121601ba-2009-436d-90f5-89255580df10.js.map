{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\platform/assets\\scripts\\platform\\PlatformController.js"],"names":["PlatformController","cc","Class","statics","platform","Init","window","wx","tt","swan","IsLoginSync","result","isLoginSync","isLogin","console","log","Login","self","login","success","fail","showModal","title","content","cancelText","res","confirm","cancel","exit","CreateGameClub","winSize","view","getVisibleSize","leftRatio","width","topRatio","height","sysInfo","getSystemInfoSync","leftPos","windowWidth","topPos","windowHeight","gameClubBtn","createGameClubButton","icon","text","style","left","top","ShowClubButton","flag","show","hide","CreateFeedBackButton","lPos","tPos","loader","loadRes","err","texture","feedBackBtn","createFeedbackButton","type","image","ShowFeedbackBtn","ShareTopNav","index","Math","floor","random","info","Mgr","ShareInfos","getShareInfos","showShareMenu","withShareTicket","onShareAppMessage","imageUrl","url","ShareToFriendTxt","str","shareAppMessage","ShareToFriend","showToast","duration","OpenServiceConversation","openCustomerServiceConversation","sessionFrom","showMessageCard","setUserCloudStorage","socre","kvData","wxgame","score","update_time","Date","getTime","JSON","stringify","kvDataList","Array","push","key","value","KVDataList","complete","IsSupportRank","showSubContentView","param","director","GlobalEvent","emit","Event","ShowRank","hideSubContentView","SendMessageToSubView","code","curScore","msg","getOpenDataContext","postMessage","message","IsSupportRecordScreen","StartRecordScreen","videoPath","recorderManager","getGameRecorderManager","onStart","onStop","onRecordStop","onPause","onResume","onError","errMsg","start","getVideoRecorderManager","microphoneEnabled","StopRecordScreen","stop","ShareRecordScreen","shareVideo","e","JumpToOtherApp","appId","navigateToMiniProgram","envVersion","appKey","QuakeScreen","long","vibrateLong","vibrateShort","module","exports"],"mappings":"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","file":"PlatformController.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\platform","sourcesContent":["\r\nvar PlatformController = cc.Class({\r\n    statics:{\r\n        //微信 wx\r\n        //头条 tt\r\n        //百度 baidu\r\n        platform:\"wx\",\r\n\r\n        Init:function () {\r\n        \tif(!window.wx && !window.tt && !window.swan)\r\n            \tthis.platform=\"pc\";\r\n        },\r\n\r\n        //百度 头条等先判定是否登陆了\r\n        IsLoginSync:function(){\r\n        \tif(this.platform == \"baidu\")\r\n        \t{\r\n        \t\tvar result = swan.isLoginSync();\r\n    \t\t\tif(result.isLogin)\r\n    \t\t\t{\r\n    \t\t\t\tconsole.log(\"已经有登陆了\");\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\treturn false;\r\n        \t}\r\n        \telse if(this.platform == \"tt\")\r\n        \t{\r\n\r\n        \t}\r\n        \treturn true;\r\n        },\r\n\r\n        Login:function(){\r\n        \tvar self = this;\r\n        \tif(this.platform == \"baidu\")\r\n        \t{\r\n        \t\tswan.login({\r\n\t\t\t        success: function () {\r\n\t\t\t            //登陆成功后执行某个操作\r\n\t\t\t        },\r\n\t\t\t        fail: function () {\r\n\t\t\t            swan.showModal({\r\n\t\t\t                title: \"登录失败\",\r\n\t\t\t                content: \"是否重新登录？\",\r\n\t\t\t                cancelText: \"退出游戏\",\r\n\t\t\t                success: function (res) {\r\n\t\t\t                    if (res.confirm) {\r\n\t\t\t                        console.log(\"点击了确定\");\r\n\t\t\t                        self.Login();\r\n\t\t\t                    }\r\n\t\t\t                    else if (res.cancel) {\r\n\t\t\t                        console.log(\"点击了取消\");\r\n\t\t\t                        swan.exit();\r\n\t\t\t                    }\r\n\t\t\t                }\r\n\t\t\t            });\r\n\t\t\t        }\r\n\t\t\t    })\r\n        \t}\r\n        \telse if(this.platform == \"tt\")\r\n        \t{\r\n        \t\ttt.login({\r\n\t\t\t\t    success (res) {\r\n\t\t\t\t        \r\n\t\t\t\t    },\r\n\t\t\t\t    fail (res) {\r\n\t\t\t\t        tt.showModal({\r\n\t\t\t                title: \"登录失败\",\r\n\t\t\t                content: \"是否重新登录？\",\r\n\t\t\t                cancelText: \"退出游戏\",\r\n\t\t\t                success: function (res) {\r\n\t\t\t                    if (res.confirm) {\r\n\t\t\t                        console.log(\"点击了确定\");\r\n\t\t\t                        self.Login();\r\n\t\t\t                    }\r\n\t\t\t                    else if (res.cancel) {\r\n\t\t\t                        console.log(\"点击了取消\");\r\n\t\t\t                        tt.exit();\r\n\t\t\t                    }\r\n\t\t\t                }\r\n\t\t\t            });\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n        \t}\r\n        \treturn true;\r\n        },\r\n\r\n        //游戏圈按钮\r\n        CreateGameClub:function(){\r\n        \tif(this.platform == \"wx\")\r\n        \t{\r\n        \t\tvar winSize = cc.view.getVisibleSize();\r\n        \t\tvar leftRatio = 68 / winSize.width;\r\n        \t\tvar topRatio = 275 / winSize.height;\r\n\r\n        \t\tvar sysInfo = wx.getSystemInfoSync();\r\n\r\n        \t\tthis.leftPos = sysInfo.windowWidth * leftRatio;\r\n        \t\tthis.topPos = sysInfo.windowHeight * topRatio;\r\n\r\n        \t\tvar self = this;\r\n        \t\tthis.gameClubBtn = wx.createGameClubButton({\r\n        \t\t\ticon:'green',\r\n        \t\t\ttext:\"游戏圈\",\r\n        \t\t\tstyle:{\r\n        \t\t\t\tleft:self.leftPos - 20,\r\n        \t\t\t\ttop:self.topPos - 20,\r\n        \t\t\t\twidth: 45,\r\n        \t\t\t\theight: 45,\r\n        \t\t\t}\r\n        \t\t});\r\n        \t}\r\n        },\r\n        //游戏圈按钮是否显示\r\n        ShowClubButton:function(flag = false)\r\n        {\r\n        \tif(this.platform == \"wx\" && this.gameClubBtn != null)\r\n        \t{\r\n        \t\tif(flag == true)\r\n        \t\t\tthis.gameClubBtn.show();\r\n        \t\telse\r\n        \t\t\tthis.gameClubBtn.hide();\r\n        \t}\r\n        },\r\n\r\n        //创建意见反馈\r\n        CreateFeedBackButton:function(){\r\n        \tif(this.platform == \"wx\")\r\n        \t{\r\n        \t\tvar winSize = cc.view.getVisibleSize();\r\n        \t\tvar leftRatio = 68 / winSize.width;\r\n        \t\tvar topRatio = 275 / winSize.height;\r\n        \t\tvar sysInfo = wx.getSystemInfoSync();\r\n        \t\tthis.lPos = sysInfo.windowWidth * leftRatio;\r\n        \t\tthis.tPos = sysInfo.windowHeight * topRatio;\r\n        \t\tvar self = this;\r\n\t\t        cc.loader.loadRes(\"/share.png\",function(err, texture){\r\n\t\t            self.feedBackBtn = wx.createFeedbackButton({\r\n\t        \t\t\ttype:\"image\",\r\n\t        \t\t\timage:texture,\r\n\t        \t\t\tstyle:{\r\n\t        \t\t\t\tleft:self.lPos - 20,\r\n\t        \t\t\t\ttop:self.tPos - 20,\r\n\t        \t\t\t\twidth: 45,\r\n\t        \t\t\t\theight: 45,\r\n\t        \t\t\t}\r\n\t        \t\t});\r\n\t\t        });\r\n        \t}\r\n        },\r\n        //意见反馈按钮显示和隐藏\r\n        ShowFeedbackBtn:function(flag = false)\r\n        {\r\n        \tif(this.platform == \"wx\" && this.feedBackBtn != null)\r\n        \t{\r\n        \t\tif(flag == true)\r\n        \t\t\tthis.feedBackBtn.show();\r\n        \t\telse\r\n        \t\t\tthis.feedBackBtn.hide();\r\n        \t}\r\n        },\r\n\r\n        //右上角的转发按钮\r\n        ShareTopNav:function(){\r\n        \tvar index = Math.floor(Math.random()*8);\r\n\t        let info = cc.Mgr.ShareInfos.getShareInfos(index);\r\n\t        if(this.platform == \"wx\")\r\n\t        {\r\n\t            wx.showShareMenu({withShareTicket:true});\r\n\t            wx.onShareAppMessage(function () {\r\n\t                return {\r\n\t                  title: info.text,\r\n\t                  //imageUrlId: '',\r\n\t                  imageUrl: info.url,\r\n\t                }\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"tt\")\r\n\t        {\r\n\t            tt.showShareMenu(false);\r\n\t            tt.onShareAppMessage(function () {\r\n\t                return {\r\n\t                  title: info.text,\r\n\t                  //imageUrlId: 'Ik14RZj7SV2BtigrtE3d1g',\r\n\t                  imageUrl: '',\r\n\t                }\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t            swan.showShareMenu(false);\r\n\t            swan.onShareAppMessage(function () {\r\n\t                return {\r\n\t                  title: info.text,\r\n\t                  //imageUrlId: 'Ik14RZj7SV2BtigrtE3d1g',\r\n\t                  imageUrl: info.url\r\n\t                }\r\n\t            })\r\n\t        }\r\n        },\r\n\r\n        //转发一段文本\r\n        ShareToFriendTxt:function(str){\r\n        \tconsole.log(\"点击了分享啊\");\r\n        \tvar info = cc.Mgr.ShareInfos.getShareInfos(1);\r\n        \tif(this.platform == \"wx\")\r\n\t        {\r\n\t            wx.shareAppMessage({\r\n\t                title: str,\r\n\t                imageUrl: info.url,\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"tt\")\r\n\t        {\r\n\t            tt.shareAppMessage({\r\n\t                title: str,\r\n\t                imageUrl: info.url,\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t            swan.shareAppMessage({\r\n\t                title: str,\r\n\t                imageUrl: info.url,\r\n\t            })\r\n\t        }\r\n        },\r\n\r\n        //自定义转发\r\n        ShareToFriend:function(index){\r\n        \tconsole.log(\"点击了分享啊\");\r\n        \tvar info = cc.Mgr.ShareInfos.getShareInfos(index);\r\n\t        if(this.platform == \"wx\")\r\n\t        {\r\n\t            wx.shareAppMessage({\r\n\t                title: info.text,\r\n\t                imageUrl: info.url,\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"tt\")\r\n\t        {\r\n\t            tt.shareAppMessage({\r\n\t                title: info.text,\r\n\t                imageUrl: info.url\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t            swan.shareAppMessage({\r\n\t                title: info.text,\r\n\t                imageUrl: info.url\r\n\t            })\r\n\t        }\r\n        },\r\n \t\t//显示平台的小弹窗 回调用\r\n        showToast:function(text)\r\n\t    {\r\n\t        cc.log(text);\r\n\t        if(this.platform == \"wx\")\r\n\t        {\r\n\t            wx.showToast({\r\n\t                title: text,\r\n\t                icon: 'none',\r\n\t                duration: 2000\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"tt\")\r\n\t        {\r\n\t            tt.showToast({\r\n\t                title: text,\r\n\t                icon: 'none',\r\n\t                duration: 2000\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t            swan.showToast({\r\n\t                title: text,\r\n\t                icon: 'none',\r\n\t                duration: 2000\r\n\t            })\r\n\t        }  \r\n\t    },\r\n\r\n\t    //打开客服对话\r\n\t    OpenServiceConversation:function(){\r\n\t    \tif(this.platform == \"wx\")\r\n\t    \t{\r\n\t    \t\twx.openCustomerServiceConversation({\r\n\t    \t\t\tsessionFrom:'',\r\n\t    \t\t\tshowMessageCard:true,\r\n\t    \t\t});\r\n\t    \t}\r\n\t    \telse if(this.platform == \"baidu\")\r\n\t    \t{\r\n\t    \t\tswan.openCustomerServiceConversation({\r\n\r\n\t    \t\t});\r\n\t    \t}\r\n\t    },\r\n\r\n\t    //微信开放数据存储 score 代表当前要保存的东西\r\n\t    setUserCloudStorage:function(socre) \r\n\t    {\r\n\t        cc.log(\"setUserCloudStorage socre = \" + socre);\r\n\t        if(this.platform == \"wx\")\r\n\t        {\r\n\t            var kvData={};\r\n\t            kvData.wxgame={};\r\n\t            kvData.wxgame.score = socre;\r\n\t            kvData.wxgame.update_time =  new Date().getTime();\r\n\t            console.log(JSON.stringify(kvData));\r\n\r\n\t            var kvDataList = new Array();\r\n\t            kvDataList.push({key: \"\bxmbScore\", value: JSON.stringify(kvData)});\r\n\t            wx.setUserCloudStorage({\r\n\t\t            KVDataList: kvDataList,\r\n\t\t            success: res => {\r\n\t\t                console.log(\"success:\" + JSON.stringify(res))\r\n\t\t            },\r\n\t\t            fail: res => {\r\n\t\t                console.log(\"fail : \" + res);\r\n\t\t            }\r\n\t            });\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t        \tvar kvData={};\r\n\t            kvData.wxgame={};\r\n\t            kvData.wxgame.score = socre;\r\n\t            kvData.wxgame.update_time =  new Date().getTime();\r\n\t            console.log(JSON.stringify(kvData));\r\n\r\n\t            var kvDataList = new Array();\r\n\t            kvDataList.push({key: \"\bxmbScore\", value: JSON.stringify(kvData)});\r\n\r\n\t        \tswan.setUserCloudStorage({\r\n\t\t\t\t\tKVDataList: kvDataList,\r\n\t\t\t\t\tsuccess: res => console.log(\"success \"+res),\r\n\t\t\t\t\tfail: res => console.log(\"fail \"+res),\r\n\t\t\t\t\tcomplete: res => console.log(\"complete \"+res)\r\n\t\t\t\t});\r\n\t        }\r\n\t    },\r\n\r\n\t    //是否支持排行功能\r\n\t    IsSupportRank:function()\r\n\t    {\r\n\t        if(this.platform == \"wx\" || this.platform == \"baidu\")\r\n\t            return true;\r\n\r\n\t        return false;\r\n\t    },\r\n\r\n\t    //显示子域\r\n\t    showSubContentView:function()\r\n\t    {\r\n\t        if(this.platform == \"wx\" || this.platform == \"baidu\" )\r\n\t        {\r\n\t\t        var param = {};\r\n\t\t        param.platform = this.platform;\r\n\t\t        param.flag = true;\r\n\t\t        cc.director.GlobalEvent.emit(cc.Mgr.Event.ShowRank, param);\r\n\t        }\r\n\t    },\r\n\r\n\t    //隐藏子域\r\n\t    hideSubContentView:function()\r\n\t    {\r\n\t        if(this.platform == \"wx\" || this.platform == \"baidu\" )\r\n\t        {\r\n\t            var param = {};\r\n\t\t        param.flag = false;\r\n\t\t        param.platform = this.platform;\r\n\t\t        cc.director.GlobalEvent.emit(cc.Mgr.Event.ShowRank, param);\r\n\t        }\r\n\t    },\r\n\r\n\t    //向子域发送信息\r\n\t    SendMessageToSubView:function(code,curScore=0)\r\n\t    {\r\n\t        var msg={};\r\n\t        msg.code = code;\r\n\t        msg.curScore = curScore;\r\n\t        if(this.platform == \"wx\")\r\n\t        {\r\n\t            wx.getOpenDataContext().postMessage({\r\n\t                message: msg\r\n\t            });\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t        \tswan.getOpenDataContext().postMessage({\r\n\t\t\t\t    message: msg\r\n\t\t\t\t});\r\n\t        }\r\n\t    },\r\n\r\n\t    //是否支持录屏\r\n\t    IsSupportRecordScreen:function()\r\n\t    {\r\n\t        if(this.platform == \"tt\")\r\n\t            return true;\r\n\t        else if(this.platform == \"baidu\")\r\n\t            return true;\r\n\r\n\t        return false;\r\n\t    },\r\n\r\n\t    //开始录屏\r\n\t    StartRecordScreen:function()\r\n\t    {\r\n\t        var self = this;\r\n\t        this.videoPath = \"\";\r\n\t        if(this.platform == \"tt\")\r\n\t        {\r\n\t            if(this.recorderManager == null)\r\n\t            {\r\n\t                this.recorderManager = tt.getGameRecorderManager();\r\n\t                \r\n\t                this.recorderManager.onStart(res =>{\r\n\t                    console.log(\"录制开始了: \"+res);\r\n\t                });\r\n\r\n\t                this.recorderManager.onStop(res =>{\r\n\t                    console.log(\"录制结束了: \"+res.videoPath);\r\n\t                    self.videoPath = res.videoPath;\r\n\t                    this.onRecordStop();\r\n\t                });\r\n\t                \r\n\t                this.recorderManager.onPause(() =>{\r\n\t                    console.log(\"录制暂停了\");\r\n\t                });\r\n\t                \r\n\t                this.recorderManager.onResume(() =>{\r\n\t                    console.log(\"录制恢复了\");\r\n\t                });\r\n\r\n\t                this.recorderManager.onError(errMsg =>{\r\n\t                    console.log(\"录制出错了:\" + errMsg);\r\n\t                });\r\n\t            }\r\n\r\n\t            this.recorderManager.start({\r\n\t                duration: 30,//基础录制30秒\r\n\t            });\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t            if(this.recorderManager == null)\r\n\t            {\r\n\t                this.recorderManager = swan.getVideoRecorderManager();\r\n\t                \r\n\t                this.recorderManager.onStart(res =>{\r\n\t                    console.log(\"录制开始了: \"+res);\r\n\t                });\r\n\r\n\t                this.recorderManager.onStop(res =>{\r\n\t                    console.log(\"录制结束了: \"+res.videoPath);\r\n\t                    self.videoPath = res.videoPath;\r\n\t                });\r\n\t                \r\n\t                this.recorderManager.onPause(() =>{\r\n\t                    console.log(\"录制暂停了\");\r\n\t                });\r\n\t                \r\n\t                this.recorderManager.onResume(() =>{\r\n\t                    console.log(\"录制恢复了\");\r\n\t                });\r\n\r\n\t                this.recorderManager.onError(errMsg =>{\r\n\t                    console.log(\"录制出错了:\" + errMsg);\r\n\t                });\r\n\t            }\r\n\t            this.recorderManager.start({\r\n\t                duration: 30,\r\n\t                microphoneEnabled: true,//是否支持麦克风\r\n\t            });\r\n\t        }\r\n\t    },\r\n\t    //停止录屏\r\n\t    StopRecordScreen:function()\r\n\t    {\r\n\t        if(this.platform == \"tt\")\r\n\t        {\r\n\t            if(this.recorderManager == null)\r\n\t            {\r\n\t                return;\r\n\t            }\r\n\t            console.log(\"停止录制\");\r\n\t            this.recorderManager.stop();\r\n\t        }\r\n\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t            if(this.recorderManager == null)\r\n\t            {\r\n\t                return;\r\n\t            }\r\n\t            console.log(\"停止录制\");\r\n\t            this.recorderManager.stop();\r\n\t        }\r\n\t    },\r\n\t    //分享录制的视频\r\n\t    ShareRecordScreen:function()\r\n\t    {\r\n\t        if(this.platform == \"tt\")\r\n\t        {\r\n\t            if(this.recorderManager == null || this.videoPath == \"\")\r\n\t            {\r\n\t                return;\r\n\t            }\r\n\t            console.log(\"分享录制的视频\");\r\n\t            tt.shareVideo({\r\n\t                videoPath: `${this.videoPath}`,\r\n\t                success () {\r\n\t                console.log(\"分享成功！\");\r\n\t                },\r\n\t                fail (e) {\r\n\t                console.log(\"分享失败！\"  + e);\r\n\t                }\r\n\t            });\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t            if(this.recorderManager == null || this.videoPath == null)\r\n\t            {\r\n\t                return;\r\n\t            }\r\n\r\n\t            console.log(\"分享录制的视频\");\r\n\t            swan.shareVideo({\r\n\t                videoPath: `${this.videoPath}`,\r\n\t                success () {\r\n\t                console.log(\"分享成功！\");\r\n\t                },\r\n\t                fail (e) {\r\n\t                console.log(\"分享失败！\" + e);\r\n\t                }\r\n\t            });\r\n\t        }\r\n\t    },\r\n\r\n\t    //跳转到其他小程序  要到对应 app.json 或者 game.json 中添加列表\r\n\t    JumpToOtherApp:function(appId){\r\n\t    \tif(this.platform == \"wx\")\r\n\t    \t{\r\n\t    \t\twx.navigateToMiniProgram({\r\n\t\t\t\t\tappId: appId,\r\n\t\t\t\t\tenvVersion:'release',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(\"成功打开了其他小程序\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t    \t}\r\n\t    \telse if(this.platform == \"baidu\")\r\n\t    \t{\r\n\t    \t\tswan.navigateToMiniProgram({\r\n\t\t\t\t\tappKey: appId,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(\"成功打开了其他小程序\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t    \t}\r\n\t    \telse if(this.platform == \"tt\")\r\n\t    \t{\r\n\t    \t\ttt.navigateToMiniProgram({\r\n\t\t\t\t\tappId: appId,\r\n\t\t\t\t\tenvVersion:'release',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(\"成功打开了其他小程序\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t    \t}\r\n\t    },\r\n\r\n\t    //震屏功能  长震动还是短震动\r\n\t    QuakeScreen:function(long = true){\r\n\t    \tif(this.platform != \"pc\")\r\n\t    \t{\r\n\t    \t\tif(long == true)\r\n\t    \t\t{\r\n\t    \t\t\tif(this.platform == \"tt\")\r\n\t\t    \t\t{\r\n\t\t    \t\t\ttt.vibrateLong({\r\n\t\t\t\t\t\t    success (res) {\r\n\t\t\t\t\t\t        console.log(`${res}`);\r\n\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t    fail (res) {\r\n\t\t\t\t\t\t        console.log(`vibrateLong调用失败`);\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t});\r\n\t\t    \t\t}\r\n\t\t    \t\telse if(this.platform == \"baidu\")\r\n\t\t    \t\t{\r\n\t\t    \t\t\tswan.vibrateLong({\r\n\t\t\t\t\t\t    success (res) {\r\n\t\t\t\t\t\t        console.log(`${res}`);\r\n\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t    fail (res) {\r\n\t\t\t\t\t\t        console.log(`vibrateLong调用失败`);\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t});\r\n\t\t    \t\t}\r\n\t\t    \t\telse if(this.platform == \"wx\")\r\n\t\t    \t\t{\r\n\t\t    \t\t\twx.vibrateLong({\r\n\t\t\t\t\t\t    success (res) {\r\n\t\t\t\t\t\t        console.log(`${res}`);\r\n\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t    fail (res) {\r\n\t\t\t\t\t\t        console.log(`vibrateLong调用失败`);\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t});\r\n\t\t    \t\t}\r\n\t    \t\t}\r\n\t    \t\telse\r\n\t    \t\t{\r\n\t    \t\t\tif(this.platform == \"tt\")\r\n\t\t    \t\t{\r\n\t\t    \t\t\ttt.vibrateShort({\r\n\t\t\t\t\t\t    success (res) {\r\n\t\t\t\t\t\t        console.log(`${res}`);\r\n\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t    fail (res) {\r\n\t\t\t\t\t\t        console.log(`vibrateShort调用失败`);\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t});\r\n\t\t    \t\t}\r\n\t\t    \t\telse if(this.platform == \"baidu\")\r\n\t\t    \t\t{\r\n\t\t    \t\t\tswan.vibrateShort({\r\n\t\t\t\t\t\t    success (res) {\r\n\t\t\t\t\t\t        console.log(`${res}`);\r\n\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t    fail (res) {\r\n\t\t\t\t\t\t        console.log(`vibrateShort调用失败`);\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t});\r\n\t\t    \t\t}\r\n\t\t    \t\telse if(this.platform == \"wx\")\r\n\t\t    \t\t{\r\n\t\t    \t\t\twx.vibrateShort({\r\n\t\t\t\t\t\t    success (res) {\r\n\t\t\t\t\t\t        console.log(`${res}`);\r\n\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t    fail (res) {\r\n\t\t\t\t\t\t        console.log(`vibrateLong调用失败`);\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t});\r\n\t\t    \t\t}\r\n\t    \t\t}\r\n\t    \t}\r\n\t    },\r\n\t},\r\n});\r\nmodule.exports = PlatformController;\r\n"]}