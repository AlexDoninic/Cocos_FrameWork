{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\platform/assets\\scripts\\platform\\PlatformController.js"],"names":["PlatformController","cc","Class","statics","platform","Init","window","wx","tt","swan","IsLoginSync","result","isLoginSync","isLogin","console","log","Login","self","login","success","setUserCloudStorage","Mgr","UserDataMgr","HistoryHighAssets","fail","showModal","title","content","cancelText","res","confirm","cancel","exit","CreateGameClub","winSize","view","getVisibleSize","leftRatio","width","topRatio","height","sysInfo","getSystemInfoSync","leftPos","windowWidth","topPos","windowHeight","gameClubBtn","createGameClubButton","icon","text","style","left","top","ShowClubButton","flag","show","hide","CreateFeedBackButton","lPos","tPos","loader","loadRes","err","texture","feedBackBtn","createFeedbackButton","type","image","ShowFeedbackBtn","ShareTopNav","index","Math","floor","random","info","ShareInfos","getShareInfos","showShareMenu","withShareTicket","onShareAppMessage","imageUrl","url","ShareToFriendTxt","str","shareAppMessage","ShareToFriend","showToast","duration","OpenServiceConversation","openCustomerServiceConversation","sessionFrom","showMessageCard","socre","kvData","wxgame","score","update_time","Date","getTime","JSON","stringify","kvDataList","Array","push","key","value","KVDataList","complete","IsSupportRank","showSubContentView","param","director","GlobalEvent","emit","Event","ShowRank","hideSubContentView","SendMessageToSubView","code","curScore","msg","getOpenDataContext","postMessage","message","IsSupportRecordScreen","StartRecordScreen","videoPath","recorderManager","getGameRecorderManager","onStart","onStop","onRecordStop","onPause","onResume","onError","errMsg","start","getVideoRecorderManager","microphoneEnabled","StopRecordScreen","stop","ShareRecordScreen","shareVideo","e","JumpToOtherApp","appId","navigateToMiniProgram","envVersion","QuakeScreen","long","vibrateLong","vibrateShort","module","exports"],"mappings":"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","file":"PlatformController.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\platform","sourcesContent":["\r\nvar PlatformController = cc.Class({\r\n    statics:{\r\n        //微信 wx\r\n        //头条 tt\r\n        //百度 baidu\r\n        platform:\"wx\",\r\n\r\n        Init:function () {\r\n        \tif(!window.wx && !window.tt && !window.swan)\r\n            \tthis.platform=\"pc\";\r\n        },\r\n\r\n        //百度 头条等先判定是否登陆了\r\n        IsLoginSync:function(){\r\n        \tif(this.platform == \"baidu\")\r\n        \t{\r\n        \t\tvar result = swan.isLoginSync();\r\n    \t\t\tif(result.isLogin)\r\n    \t\t\t{\r\n    \t\t\t\tconsole.log(\"已经有登陆了\");\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\treturn false;\r\n        \t}\r\n        \telse if(this.platform == \"tt\")\r\n        \t{\r\n\r\n        \t}\r\n\r\n        \treturn true;\r\n        },\r\n\r\n        Login:function(){\r\n        \tvar self = this;\r\n        \tif(this.platform == \"baidu\")\r\n        \t{\r\n        \t\tswan.login({\r\n\t\t\t        success: function () {\r\n\t\t\t            self.setUserCloudStorage(cc.Mgr.UserDataMgr.HistoryHighAssets);\r\n\t\t\t        },\r\n\t\t\t        fail: function () {\r\n\t\t\t            swan.showModal({\r\n\t\t\t                title: \"登录失败\",\r\n\t\t\t                content: \"是否重新登录？\",\r\n\t\t\t                cancelText: \"退出游戏\",\r\n\t\t\t                success: function (res) {\r\n\t\t\t                    if (res.confirm) {\r\n\t\t\t                        console.log(\"点击了确定\");\r\n\t\t\t                        self.Login();\r\n\t\t\t                    }\r\n\t\t\t                    else if (res.cancel) {\r\n\t\t\t                        console.log(\"点击了取消\");\r\n\t\t\t                        swan.exit();\r\n\t\t\t                    }\r\n\t\t\t                }\r\n\t\t\t            })\r\n\t\t\t        }\r\n\t\t\t    })\r\n        \t}\r\n        \telse if(this.platform == \"tt\")\r\n        \t{\r\n\r\n        \t}\r\n        \treturn true;\r\n        },\r\n\r\n        //游戏圈按钮\r\n        CreateGameClub:function(){\r\n        \tif(this.platform == \"wx\")\r\n        \t{\r\n        \t\tvar winSize = cc.view.getVisibleSize();\r\n        \t\tvar leftRatio = 68 / winSize.width;\r\n        \t\tvar topRatio = 275 / winSize.height;\r\n\r\n        \t\tvar sysInfo = wx.getSystemInfoSync();\r\n\r\n        \t\tthis.leftPos = sysInfo.windowWidth * leftRatio;\r\n        \t\tthis.topPos = sysInfo.windowHeight * topRatio;\r\n\r\n        \t\tvar self = this;\r\n        \t\tthis.gameClubBtn = wx.createGameClubButton({\r\n        \t\t\ticon:'green',\r\n        \t\t\ttext:\"游戏圈\",\r\n        \t\t\tstyle:{\r\n        \t\t\t\tleft:self.leftPos - 20,\r\n        \t\t\t\ttop:self.topPos - 20,\r\n        \t\t\t\twidth: 45,\r\n        \t\t\t\theight: 45,\r\n        \t\t\t}\r\n        \t\t});\r\n        \t}\r\n        },\r\n        //游戏圈按钮是否显示\r\n        ShowClubButton:function(flag = false)\r\n        {\r\n        \tif(this.platform == \"wx\" && this.gameClubBtn != null)\r\n        \t{\r\n        \t\tif(flag == true)\r\n        \t\t\tthis.gameClubBtn.show();\r\n        \t\telse\r\n        \t\t\tthis.gameClubBtn.hide();\r\n        \t}\r\n        },\r\n\r\n        //创建意见反馈\r\n        CreateFeedBackButton:function(){\r\n        \tif(this.platform == \"wx\")\r\n        \t{\r\n        \t\tvar winSize = cc.view.getVisibleSize();\r\n        \t\tvar leftRatio = 68 / winSize.width;\r\n        \t\tvar topRatio = 275 / winSize.height;\r\n        \t\tvar sysInfo = wx.getSystemInfoSync();\r\n        \t\tthis.lPos = sysInfo.windowWidth * leftRatio;\r\n        \t\tthis.tPos = sysInfo.windowHeight * topRatio;\r\n        \t\tvar self = this;\r\n\t\t        cc.loader.loadRes(\"/share.png\",function(err, texture){\r\n\t\t            self.feedBackBtn = wx.createFeedbackButton({\r\n\t        \t\t\ttype:\"image\",\r\n\t        \t\t\timage:texture,\r\n\t        \t\t\tstyle:{\r\n\t        \t\t\t\tleft:self.lPos - 20,\r\n\t        \t\t\t\ttop:self.tPos - 20,\r\n\t        \t\t\t\twidth: 45,\r\n\t        \t\t\t\theight: 45,\r\n\t        \t\t\t}\r\n\t        \t\t});\r\n\t\t        });\r\n        \t}\r\n        },\r\n        //意见反馈按钮显示和隐藏\r\n        ShowFeedbackBtn:function(flag = false)\r\n        {\r\n        \tif(this.platform == \"wx\" && this.feedBackBtn != null)\r\n        \t{\r\n        \t\tif(flag == true)\r\n        \t\t\tthis.feedBackBtn.show();\r\n        \t\telse\r\n        \t\t\tthis.feedBackBtn.hide();\r\n        \t}\r\n        },\r\n\r\n        //右上角的转发按钮\r\n        ShareTopNav:function(){\r\n        \tvar index = Math.floor(Math.random()*8);\r\n\t        let info = cc.Mgr.ShareInfos.getShareInfos(index);\r\n\t        if(this.platform == \"wx\")\r\n\t        {\r\n\t            wx.showShareMenu({withShareTicket:true});\r\n\t            wx.onShareAppMessage(function () {\r\n\t                // 用户点击了“转发”按钮\r\n\t                return {\r\n\t                  title: info.text,\r\n\t                  //imageUrlId: '',\r\n\t                  imageUrl: info.url,\r\n\t                }\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"tt\")\r\n\t        {\r\n\t            tt.showShareMenu(false);\r\n\t            tt.onShareAppMessage(function () {\r\n\t                // 用户点击了“转发”按钮\r\n\t                return {\r\n\t                  title: '沙雕,这个游戏你能玩下去吗',\r\n\t                  //imageUrlId: 'Ik14RZj7SV2BtigrtE3d1g',\r\n\t                  imageUrl: '',\r\n\t                }\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t            swan.showShareMenu(false);\r\n\t            swan.onShareAppMessage(function () {\r\n\t                // 用户点击了“转发”按钮\r\n\t                return {\r\n\t                  title: info.text,\r\n\t                  imageUrl: info.url\r\n\t                }\r\n\t            })\r\n\t        }\r\n        },\r\n\r\n        //转发一段文本\r\n        ShareToFriendTxt:function(str){\r\n        \tif(this.platform == \"wx\")\r\n\t        {\r\n\t            console.log(\"点击了分享啊\");\r\n\t            wx.shareAppMessage({\r\n\t                title: str,\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"tt\")\r\n\t        {\r\n\t            tt.shareAppMessage({\r\n\t                title: str,\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t            console.log(\"点击了分享啊\");\r\n\t            swan.shareAppMessage({\r\n\t                title: str,\r\n\t            })\r\n\t        }\r\n        },\r\n\r\n        //自定义转发\r\n        ShareToFriend:function(index){\r\n        \tvar info = cc.Mgr.ShareInfos.getShareInfos(index);\r\n\t        if(this.platform == \"wx\")\r\n\t        {\r\n\t            console.log(\"点击了分享啊\");\r\n\t            wx.shareAppMessage({\r\n\t                title: info.text,\r\n\t                imageUrl: info.url,\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"tt\")\r\n\t        {\r\n\t            tt.shareAppMessage({\r\n\t                title: info.text,\r\n\t                imageUrl: info.url\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t            console.log(\"点击了分享啊\");\r\n\t            swan.shareAppMessage({\r\n\t                title: info.text,\r\n\t                imageUrl: info.url\r\n\t            })\r\n\t        }\r\n        },\r\n \t\t//显示平台的小弹窗 回调用\r\n        showToast:function(text)\r\n\t    {\r\n\t        cc.log(text);\r\n\t        if(this.platform == \"wx\")\r\n\t        {\r\n\t            wx.showToast({\r\n\t                title: text,\r\n\t                icon: 'success',\r\n\t                duration: 2000\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"tt\")\r\n\t        {\r\n\t            tt.showToast({\r\n\t                title: text,\r\n\t                icon: 'success',\r\n\t                duration: 2000\r\n\t            })\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t            swan.showToast({\r\n\t                title: text,\r\n\t                icon: 'success',\r\n\t                duration: 2000\r\n\t            })\r\n\t        }  \r\n\t    },\r\n\r\n\t    //打开客服对话\r\n\t    OpenServiceConversation:function(){\r\n\t    \tif(this.platform == \"wx\")\r\n\t    \t{\r\n\t    \t\twx.openCustomerServiceConversation({\r\n\t    \t\t\tsessionFrom:'',\r\n\t    \t\t\tshowMessageCard:true,\r\n\t    \t\t});\r\n\t    \t}\r\n\t    },\r\n\r\n\t    //微信开放数据存储 score 代表当前要保存的东西\r\n\t    setUserCloudStorage:function(socre) \r\n\t    {\r\n\t        cc.log(\"setUserCloudStorage socre = \" + socre);\r\n\t        if(this.platform == \"wx\")\r\n\t        {\r\n\t            var kvData={};\r\n\t            kvData.wxgame={};\r\n\t            kvData.wxgame.score = socre;\r\n\t            kvData.wxgame.update_time =  new Date().getTime();\r\n\t            console.log(JSON.stringify(kvData));\r\n\r\n\t            var kvDataList = new Array();\r\n\t            kvDataList.push({key: \"\bxmbScore\", value: JSON.stringify(kvData)});\r\n\t            wx.setUserCloudStorage({\r\n\t\t            KVDataList: kvDataList,\r\n\t\t            success: res => {\r\n\t\t                console.log(\"success:\" + JSON.stringify(res))\r\n\t\t            },\r\n\t\t            fail: res => {\r\n\t\t                console.log(\"fail : \" + res);\r\n\t\t            }\r\n\t            });\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t        \tvar kvData={};\r\n\t            kvData.wxgame={};\r\n\t            kvData.wxgame.score = socre;\r\n\t            kvData.wxgame.update_time =  new Date().getTime();\r\n\t            console.log(JSON.stringify(kvData));\r\n\r\n\t            var kvDataList = new Array();\r\n\t            kvDataList.push({key: \"\bxmbScore\", value: JSON.stringify(kvData)});\r\n\r\n\t        \tswan.setUserCloudStorage({\r\n\t\t\t\t\tKVDataList: kvDataList,\r\n\t\t\t\t\tsuccess: res => console.log(\"success \"+res),\r\n\t\t\t\t\tfail: res => console.log(\"fail \"+res),\r\n\t\t\t\t\tcomplete: res => console.log(\"complete \"+res)\r\n\t\t\t\t});\r\n\t        }\r\n\t    },\r\n\r\n\t    //是否支持排行功能\r\n\t    IsSupportRank:function()\r\n\t    {\r\n\t        if(this.platform == \"wx\" || this.platform == \"baidu\")\r\n\t            return true;\r\n\r\n\t        return false;\r\n\t    },\r\n\r\n\t    //显示子域\r\n\t    showSubContentView:function()\r\n\t    {\r\n\t        if(this.platform == \"wx\" || this.platform == \"baidu\" )\r\n\t        {\r\n\t\t        var param = {};\r\n\t\t        param.platform = this.platform;\r\n\t\t        param.flag = true;\r\n\t\t        cc.director.GlobalEvent.emit(cc.Mgr.Event.ShowRank, param);\r\n\t        }\r\n\t    },\r\n\r\n\t    //隐藏子域\r\n\t    hideSubContentView:function()\r\n\t    {\r\n\t        if(this.platform == \"wx\" || this.platform == \"baidu\" )\r\n\t        {\r\n\t            var param = {};\r\n\t\t        param.flag = false;\r\n\t\t        param.platform = this.platform;\r\n\t\t        cc.director.GlobalEvent.emit(cc.Mgr.Event.ShowRank, param);\r\n\t        }\r\n\t    },\r\n\r\n\t    //向子域发送信息\r\n\t    SendMessageToSubView:function(code,curScore=0)\r\n\t    {\r\n\t        var msg={};\r\n\t        msg.code = code;\r\n\t        msg.curScore = curScore;\r\n\t        if(this.platform == \"wx\")\r\n\t        {\r\n\t            wx.getOpenDataContext().postMessage({\r\n\t                message: msg\r\n\t            });\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t        \tswan.getOpenDataContext().postMessage({\r\n\t\t\t\t    message: msg\r\n\t\t\t\t});\r\n\t        }\r\n\t    },\r\n\r\n\t    //是否支持录屏\r\n\t    IsSupportRecordScreen:function()\r\n\t    {\r\n\t        if(this.platform == \"tt\")\r\n\t            return true;\r\n\t        else if(this.platform == \"baidu\")\r\n\t            return true;\r\n\r\n\t        return false;\r\n\t    },\r\n\r\n\t    //开始录屏\r\n\t    StartRecordScreen:function()\r\n\t    {\r\n\t        var self = this;\r\n\t        this.videoPath = \"\";\r\n\t        if(this.platform == \"tt\")\r\n\t        {\r\n\t            if(this.recorderManager == null)\r\n\t            {\r\n\t                this.recorderManager = tt.getGameRecorderManager();\r\n\t                \r\n\t                this.recorderManager.onStart(res =>{\r\n\t                    console.log(\"录制开始了: \"+res);\r\n\t                });\r\n\r\n\t                this.recorderManager.onStop(res =>{\r\n\t                    console.log(\"录制结束了: \"+res.videoPath);\r\n\t                    self.videoPath = res.videoPath;\r\n\t                    this.onRecordStop();\r\n\t                });\r\n\t                \r\n\t                this.recorderManager.onPause(() =>{\r\n\t                    console.log(\"录制暂停了\");\r\n\t                });\r\n\t                \r\n\t                this.recorderManager.onResume(() =>{\r\n\t                    console.log(\"录制恢复了\");\r\n\t                });\r\n\r\n\t                this.recorderManager.onError(errMsg =>{\r\n\t                    console.log(\"录制出错了:\" + errMsg);\r\n\t                });\r\n\t            }\r\n\r\n\t            this.recorderManager.start({\r\n\t                duration: 30,//基础录制30秒\r\n\t            });\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t            if(this.recorderManager == null)\r\n\t            {\r\n\t                this.recorderManager = swan.getVideoRecorderManager();\r\n\t                \r\n\t                this.recorderManager.onStart(res =>{\r\n\t                    console.log(\"录制开始了: \"+res);\r\n\t                });\r\n\r\n\t                this.recorderManager.onStop(res =>{\r\n\t                    console.log(\"录制结束了: \"+res.videoPath);\r\n\t                    self.videoPath = res.videoPath;\r\n\t                });\r\n\t                \r\n\t                this.recorderManager.onPause(() =>{\r\n\t                    console.log(\"录制暂停了\");\r\n\t                });\r\n\t                \r\n\t                this.recorderManager.onResume(() =>{\r\n\t                    console.log(\"录制恢复了\");\r\n\t                });\r\n\r\n\t                this.recorderManager.onError(errMsg =>{\r\n\t                    console.log(\"录制出错了:\" + errMsg);\r\n\t                });\r\n\t            }\r\n\t            this.recorderManager.start({\r\n\t                duration: 30,\r\n\t                microphoneEnabled: true,//是否支持麦克风\r\n\t            });\r\n\t        }\r\n\t    },\r\n\t    //停止录屏\r\n\t    StopRecordScreen:function()\r\n\t    {\r\n\t        if(this.platform == \"tt\")\r\n\t        {\r\n\t            if(this.recorderManager == null)\r\n\t            {\r\n\t                return;\r\n\t            }\r\n\t            console.log(\"停止录制\");\r\n\t            this.recorderManager.stop();\r\n\t        }\r\n\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t            if(this.recorderManager == null)\r\n\t            {\r\n\t                return;\r\n\t            }\r\n\t            console.log(\"停止录制\");\r\n\t            this.recorderManager.stop();\r\n\t        }\r\n\t    },\r\n\t    //分享录制的视频\r\n\t    ShareRecordScreen:function()\r\n\t    {\r\n\t        if(this.platform == \"tt\")\r\n\t        {\r\n\t            if(this.recorderManager == null || this.videoPath == \"\")\r\n\t            {\r\n\t                return;\r\n\t            }\r\n\t            console.log(\"分享录制的视频\");\r\n\t            tt.shareVideo({\r\n\t                videoPath: `${this.videoPath}`,\r\n\t                success () {\r\n\t                console.log(\"分享成功！\");\r\n\t                },\r\n\t                fail (e) {\r\n\t                console.log(\"分享失败！\"  + e);\r\n\t                }\r\n\t            });\r\n\t        }\r\n\t        else if(this.platform == \"baidu\")\r\n\t        {\r\n\t            if(this.recorderManager == null || this.videoPath == null)\r\n\t            {\r\n\t                return;\r\n\t            }\r\n\r\n\t            console.log(\"分享录制的视频\");\r\n\t            swan.shareVideo({\r\n\t                videoPath: `${this.videoPath}`,\r\n\t                success () {\r\n\t                console.log(\"分享成功！\");\r\n\t                },\r\n\t                fail (e) {\r\n\t                console.log(\"分享失败！\" + e);\r\n\t                }\r\n\t            });\r\n\t        }\r\n\t    },\r\n\r\n\t    //跳转到其他小程序\r\n\t    JumpToOtherApp:function(appId){\r\n\t    \tif(this.platform == \"wx\")\r\n\t    \t{\r\n\t    \t\twx.navigateToMiniProgram({\r\n\t\t\t\t\tappId: appId,\r\n\t\t\t\t\tenvVersion:'release',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(\"成功打开了其他小程序\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t    \t}\r\n\t    \telse if(this.platform == \"baidu\")\r\n\t    \t{\r\n\r\n\t    \t}\r\n\t    \telse if(this.platform == \"tt\")\r\n\t    \t{\r\n\t    \t\t\r\n\t    \t}\r\n\t    },\r\n\r\n\t    //震屏功能  长震动还是短震动\r\n\t    QuakeScreen:function(long = true){\r\n\t    \tif(this.platform != \"pc\")\r\n\t    \t{\r\n\t    \t\tif(long == true)\r\n\t    \t\t{\r\n\t    \t\t\tif(this.platform == \"tt\")\r\n\t\t    \t\t{\r\n\t\t    \t\t\ttt.vibrateLong({\r\n\t\t\t\t\t\t    success (res) {\r\n\t\t\t\t\t\t        console.log(`${res}`);\r\n\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t    fail (res) {\r\n\t\t\t\t\t\t        console.log(`vibrateLong调用失败`);\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t});\r\n\t\t    \t\t}\r\n\t\t    \t\telse if(this.platform == \"baidu\")\r\n\t\t    \t\t{\r\n\t\t    \t\t\tswan.vibrateLong({\r\n\t\t\t\t\t\t    success (res) {\r\n\t\t\t\t\t\t        console.log(`${res}`);\r\n\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t    fail (res) {\r\n\t\t\t\t\t\t        console.log(`vibrateLong调用失败`);\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t});\r\n\t\t    \t\t}\r\n\t\t    \t\telse if(this.platform == \"wx\")\r\n\t\t    \t\t{\r\n\t\t    \t\t\twx.vibrateLong({\r\n\t\t\t\t\t\t    success (res) {\r\n\t\t\t\t\t\t        console.log(`${res}`);\r\n\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t    fail (res) {\r\n\t\t\t\t\t\t        console.log(`vibrateLong调用失败`);\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t});\r\n\t\t    \t\t}\r\n\t    \t\t}\r\n\t    \t\telse\r\n\t    \t\t{\r\n\t    \t\t\tif(this.platform == \"tt\")\r\n\t\t    \t\t{\r\n\t\t    \t\t\ttt.vibrateShort({\r\n\t\t\t\t\t\t    success (res) {\r\n\t\t\t\t\t\t        console.log(`${res}`);\r\n\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t    fail (res) {\r\n\t\t\t\t\t\t        console.log(`vibrateShort调用失败`);\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t});\r\n\t\t    \t\t}\r\n\t\t    \t\telse if(this.platform == \"baidu\")\r\n\t\t    \t\t{\r\n\t\t    \t\t\tswan.vibrateShort({\r\n\t\t\t\t\t\t    success (res) {\r\n\t\t\t\t\t\t        console.log(`${res}`);\r\n\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t    fail (res) {\r\n\t\t\t\t\t\t        console.log(`vibrateShort调用失败`);\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t});\r\n\t\t    \t\t}\r\n\t\t    \t\telse if(this.platform == \"wx\")\r\n\t\t    \t\t{\r\n\t\t    \t\t\twx.vibrateShort({\r\n\t\t\t\t\t\t    success (res) {\r\n\t\t\t\t\t\t        console.log(`${res}`);\r\n\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t    fail (res) {\r\n\t\t\t\t\t\t        console.log(`vibrateLong调用失败`);\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t});\r\n\t\t    \t\t}\r\n\t    \t\t}\r\n\t    \t}\r\n\t    },\r\n\t},\r\n});\r\nmodule.exports = PlatformController;\r\n"]}